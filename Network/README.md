## Network

### 1. HTTP의 GET vs POST

- HTTP : 웹상에서 클라이언트와 서버 간에 요청/응답으로 데이터를 주고받을 수 있는 프로토콜.

  - HTTP 메소드 ) 서버가 요청을 수행하기 위해 해야할 행동을 표시하는 용도로, HTTP 요청에 포함되어 전송.

- **GET** : 서버로부터 **정보를 조회**하기 위해 설계된 메소드.

  - 필요한 데이터를 Body에 담지 않고, **헤더에 포함**시켜 요청.

    - 쿼리스트링(URL에`?이름1=값1&이름2=값2`)을 통해 전송. => 특정 페이지를 링크/북마크 가능.

  - URL에 데이터가 노출되어 보안에 취약. (ex. 패스워드가 노출되는 경우)

  - **데이터 양에 한계**가 있음.

  - 불필요한 요청을 제한하기 위해 브라우저에서 **요청이 캐시(저장)**될 수 있다. (js, css, image 와 같은 정적 컨텐츠는 데이터양이 크고, 변경될 일이 적어서 재요청을 보낼 필요가 없음) => 속도를 높이고, 즐겨찾기를 편리하게 해줌.

    *정적 컨텐츠 캐시 문제 때문에 컨텐츠를 변경해도 내용이 바뀌지 않을 수 있어, 이 때는 브라우저의 캐시를 지워주어야 한다.

  - Idempotent ) 동일한 요청을 여러 번 전송하더라도 동일한 응답이 돌아와야 함. 데이터/상태를 변경시키지 않아야 함.

    - 웹페이지 열어보기
    - 게시글 읽기

- **POST** : 데이터를 서버로 제출하여 리소스를 **생성/변경**하기 위한 메소드.

  - 데이터를 HTTP 메시지의 **Body에 담아** 전송. (URL에 변수노출X)

    => 요청 헤더의 content-Type에 요청 데이터의 타입을 표시해야 함.

  - Body는 길이의 제한이 없음. (**대용량 데이터 전송 가능**) / 최대 요청을 받는 시간 Time out이 존재해서 클라이언트가 페이지를 요청하고 기다리는 시간이 존재.

  - 민감한 데이터는 반드시 암호화해서 전송해야 함. (Body에 담겨있지만, 여러 툴로 확인 가능하므로)

  - **캐싱할 수 없음**.

  - non-Idempotent ) 서버에게 동일한 요청을 여러 번 전송해도 응답은 항상 다를 수 있음. 서버의 상태/데이터 변경시킴.

    - 게시글 작성
    - cf) 수정- PUT or PATCH / 삭제 - DELETE

*참고 - https://hongsii.github.io/2017/08/02/what-is-the-difference-get-and-post/



### 2. TCP 3-way-handshake

- **전송계층** : End point간 **신뢰성(순차적, 안정적)**있는 데이터 **전송(포트 번호에 해당하는 프로세스에 데이터를 전달)**을 담당하는 계층

  - 전송 계층의 중요성 
    - 데이터의 순차 전송을 원활하게 해줌
    - Flow (흐름 문제) 제어 - 송수신자 간의 데이터 처리 속도 차이 해결
    - Congestion (혼잡 문제) 제어 - 네트워크 혼잡 시, 데이터 처리 속도 해결

- **Flag bit**

  : TCP 헤더에는 TCP 연결 제어 및 데이터 관리를 하는 code bit(Flag bit)가 있음. (ACK, SYN, FIN)

  - ACK - 응답 (들린다고 대답함)
  - SYN - 연결 요청 (들리는지 물어봄)
  - FIN - 연결 끊기



#### TCP의 3-way-handshake (connection 연결)

1) (클라이언트->서버) SYN 비트를 1로 설정해 패킷 송신 : 너랑 연결하고 싶다.

2) (서버->클라이언트) SYN, ACK 비트를 1로 설정해 패킷 송신 : 알겠고, 나도 너랑 연결하고 싶다.

3) (클라이언트->서버) ACK 비트를 1로 설정해 패킷 송신 : 알겠다.

=> Established (연결 성립)



#### 4-way-handshake (connection 해제)

1) (클라이언트->서버) 데이터를 전부 송신한 클라이언트가 FIN 송신 : 나 연결 끊고 싶어.

2) (서버->클라이언트) 서버가 ACK 송신 : 알겠어.

2-1) (서버->클라이언트) 서버에서 남은 패킷 송신 (잠시 TIME OUT) : 남은 데이터 보내는 중...

3) (서버->클라이언트) 서버가 FIN 송신 : 다 보냈다.

4) (클라이언트->서버) 클라이언트가 ACK 송신 : ㅇㅋ